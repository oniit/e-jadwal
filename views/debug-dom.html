<!DOCTYPE html>
<html>
<head>
    <title>DOM State Debug</title>
    <style>
        body { font-family: monospace; margin: 20px; background: #1e1e1e; color: #d4d4d4; }
        h1 { color: #4ec9b0; }
        .section { margin: 20px 0; padding: 15px; background: #252526; border: 1px solid #404040; }
        .good { color: #4ec9b0; }
        .bad { color: #f44747; }
        .neutral { color: #9cdcfe; }
        code { background: #1e1e1e; padding: 3px 5px; border-radius: 3px; }
    </style>
</head>
<body>
    <h1>Admin Page DOM State Debugging</h1>
    
    <div class="section">
        <h2>Table Elements Status</h2>
        <div id="tables"></div>
    </div>
    
    <div class="section">
        <h2>Filter Elements Status</h2>
        <div id="filters"></div>
    </div>
    
    <div class="section">
        <h2>Admin Tab Elements Status</h2>
        <div id="tabs"></div>
    </div>
    
    <div class="section">
        <h2>Form Elements Status</h2>
        <div id="forms"></div>
    </div>

    <script>
        function checkElement(id) {
            const el = document.getElementById(id);
            return {
                id,
                exists: !!el,
                html: el ? el.outerHTML.substring(0, 100) : 'N/A'
            };
        }

        function status(exists) {
            return exists ? '<span class="good">✓ EXISTS</span>' : '<span class="bad">✗ MISSING</span>';
        }

        // Check tables
        const tables = ['gedung-list-table', 'kendaraan-list-table', 'request-list-table'];
        let tablesHtml = '<ul>';
        tables.forEach(id => {
            const info = checkElement(id);
            tablesHtml += `<li><code>${id}</code>: ${status(info.exists)}</li>`;
        });
        tablesHtml += '</ul>';
        document.getElementById('tables').innerHTML = tablesHtml;

        // Check filters
        const filters = ['filters-gedung', 'filters-kendaraan', 'filters-request'];
        let filtersHtml = '<ul>';
        filters.forEach(id => {
            const info = checkElement(id);
            filtersHtml += `<li><code>${id}</code>: ${status(info.exists)}</li>`;
        });
        filtersHtml += '</ul>';
        document.getElementById('filters').innerHTML = filtersHtml;

        // Check tabs
        const tabEls = ['admin-tab-gedung', 'admin-tab-kendaraan', 'admin-tab-request', 'admin-tab-master'];
        let tabsHtml = '<ul>';
        tabEls.forEach(id => {
            const info = checkElement(id);
            tabsHtml += `<li><code>${id}</code>: ${status(info.exists)}</li>`;
        });
        tabsHtml += '</ul>';
        document.getElementById('tabs').innerHTML = tabsHtml;

        // Check forms
        const formEls = ['form-gedung', 'form-kendaraan', 'form-asset'];
        let formsHtml = '<ul>';
        formEls.forEach(id => {
            const info = checkElement(id);
            formsHtml += `<li><code>${id}</code>: ${status(info.exists)}</li>`;
        });
        formsHtml += '</ul>';
        document.getElementById('forms').innerHTML = formsHtml;

        // Overall status
        const allTablesExist = tables.every(id => document.getElementById(id));
        const allFiltersExist = filters.every(id => document.getElementById(id));
        
        console.log('DOM Check Complete:');
        console.log('- Tables:', allTablesExist ? 'OK' : 'MISSING');
        console.log('- Filters:', allFiltersExist ? 'OK' : 'MISSING');
    </script>
</body>
</html>
