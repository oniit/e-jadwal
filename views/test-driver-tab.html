<!DOCTYPE html>
<html>
<head>
    <title>Driver Tab Test</title>
    <style>
        body { font-family: Arial; margin: 20px; }
        .test { margin: 10px 0; padding: 10px; border: 1px solid #ccc; }
        .good { background: #d4edda; }
        .bad { background: #f8d7da; }
    </style>
</head>
<body>
    <h1>Driver Tab Frontend Test</h1>
    
    <div class="test">
        <p>Opening admin page and checking for driver tab...</p>
        <button onclick="testAdminPage()">Test Admin Page</button>
    </div>
    
    <div id="results"></div>

    <script>
        async function testAdminPage() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '';

            try {
                // Fetch the admin page
                const res = await fetch('http://localhost:3000/');
                const html = await res.text();

                // Check for driver tab elements
                const checks = [
                    {
                        name: 'Admin tab driver button',
                        pattern: 'id="admin-tab-driver"',
                        found: html.includes('id="admin-tab-driver"')
                    },
                    {
                        name: 'Admin content driver div',
                        pattern: 'id="admin-content-driver"',
                        found: html.includes('id="admin-content-driver"')
                    },
                    {
                        name: 'Driver list table',
                        pattern: 'id="driver-list-table"',
                        found: html.includes('id="driver-list-table"')
                    },
                    {
                        name: 'Driver form modal',
                        pattern: 'id="modal-form-driver"',
                        found: html.includes('id="modal-form-driver"')
                    },
                    {
                        name: 'Add driver button',
                        pattern: 'id="btn-add-driver"',
                        found: html.includes('id="btn-add-driver"')
                    },
                    {
                        name: 'Driver form element',
                        pattern: 'id="form-driver"',
                        found: html.includes('id="form-driver"')
                    }
                ];

                let allPassed = true;
                checks.forEach(check => {
                    const div = document.createElement('div');
                    div.className = 'test ' + (check.found ? 'good' : 'bad');
                    div.innerHTML = `<strong>${check.found ? '✅' : '❌'} ${check.name}</strong><br><small>Looking for: ${check.pattern}</small>`;
                    resultsDiv.appendChild(div);
                    if (!check.found) allPassed = false;
                });

                if (allPassed) {
                    const summary = document.createElement('div');
                    summary.className = 'test good';
                    summary.innerHTML = '<strong>✅ All elements found!</strong><br>The driver tab should work in the admin page.';
                    resultsDiv.appendChild(summary);
                } else {
                    const summary = document.createElement('div');
                    summary.className = 'test bad';
                    summary.innerHTML = '<strong>❌ Some elements missing!</strong><br>Check the HTML changes.';
                    resultsDiv.appendChild(summary);
                }

            } catch (err) {
                const div = document.createElement('div');
                div.className = 'test bad';
                div.innerHTML = `<strong>Error:</strong> ${err.message}`;
                resultsDiv.appendChild(div);
            }
        }
    </script>
</body>
</html>
